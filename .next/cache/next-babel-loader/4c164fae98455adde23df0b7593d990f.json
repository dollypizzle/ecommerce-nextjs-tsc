{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    max-height: 270px;\\n    min-width: 270px;\\n    border-radius: 3%;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport Link from 'next/link';\nimport axios from '../../axios-order';\nimport styled from 'styled-components';\nimport Router, { useRouter } from 'next/router';\nimport cookie from 'js-cookie';\nimport { MDBCol, MDBBtn, MDBRow } from 'mdbreact';\n\nvar Table = function Table(props) {\n  var router = useRouter();\n  var id = router.query.id;\n\n  var deleted =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var token;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              token = cookie.get('jwtToken');\n              _context.prev = 1;\n              _context.next = 4;\n              return axios[\"delete\"]('/products/' + props.obj._id, {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n\n            case 4:\n              Router.push(\"/products\");\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 7]]);\n    }));\n\n    return function deleted() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var Img = styled.img(_templateObject());\n  return __jsx(MDBRow, null, __jsx(MDBCol, {\n    className: \"\",\n    md: \"6\"\n  }, __jsx(\"h3\", null, __jsx(\"strong\", null, props.obj.name)), __jsx(\"p\", null, __jsx(\"strong\", null, \"Brand:\"), \" \", props.obj.brand), __jsx(\"div\", null, __jsx(Img, {\n    alt: \"\",\n    src: props.obj.image,\n    className: \"img-fluid w-75\"\n  }))), __jsx(MDBCol, {\n    className: \"\",\n    md: \"6\",\n    style: {\n      marginTop: '150px'\n    }\n  }, __jsx(\"p\", {\n    className: \"text-center\"\n  }, __jsx(\"strong\", null, \"Description: \"), props.obj.description), __jsx(\"p\", {\n    className: \"pt-3\"\n  }, __jsx(\"strong\", null, \"Price:\"), \" \\u20A6 \", props.obj.price), props.userId === props.obj.owner && __jsx(\"div\", null, __jsx(MDBBtn, {\n    color: \"success\"\n  }, __jsx(Link, {\n    href: \"/edit?id=\".concat(props.obj._id),\n    as: \"/edit/\".concat(props.obj._id)\n  }, __jsx(\"a\", {\n    className: \"text-reset\"\n  }, \"Edit\"))), __jsx(MDBBtn, {\n    onClick: deleted,\n    color: \"danger\"\n  }, \"Delete\"))));\n};\n\nexport default Table;","map":{"version":3,"sources":["/home/dolapo/ecommerce-nextjs-t/src/components/Products/Table.tsx"],"names":["React","Link","axios","styled","Router","useRouter","cookie","MDBCol","MDBBtn","MDBRow","Table","props","router","id","query","deleted","token","get","obj","_id","headers","Authorization","push","console","log","Img","img","name","brand","image","marginTop","description","price","userId","owner"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,IAAiBC,SAAjB,QAAkC,aAAlC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,MAAzB,QAAuC,UAAvC;;AAeA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAqB;AACjC,MAAMC,MAAM,GAAGP,SAAS,EAAxB;AADiC,MAEzBQ,EAFyB,GAElBD,MAAM,CAACE,KAFW,CAEzBD,EAFyB;;AAIjC,MAAME,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACRC,cAAAA,KADQ,GACAV,MAAM,CAACW,GAAP,CAAW,UAAX,CADA;AAAA;AAAA;AAAA,qBAINf,KAAK,UAAL,CAAa,eAAeS,KAAK,CAACO,GAAN,CAAUC,GAAtC,EAA2C;AAC/CC,gBAAAA,OAAO,EAAE;AACPC,kBAAAA,aAAa,mBAAYL,KAAZ;AADN;AADsC,eAA3C,CAJM;;AAAA;AASZZ,cAAAA,MAAM,CAACkB,IAAP;AATY;AAAA;;AAAA;AAAA;AAAA;AAWZC,cAAAA,OAAO,CAACC,GAAR;;AAXY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAPT,OAAO;AAAA;AAAA;AAAA,KAAb;;AAeA,MAAMU,GAAG,GAAGtB,MAAM,CAACuB,GAAV,mBAAT;AAMA,SACE,MAAC,MAAD,QACE,MAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,EAAlB;AAAqB,IAAA,EAAE,EAAC;AAAxB,KACE,kBACE,sBAASf,KAAK,CAACO,GAAN,CAAUS,IAAnB,CADF,CADF,EAIE,iBACE,+BADF,OAC2BhB,KAAK,CAACO,GAAN,CAAUU,KADrC,CAJF,EAOE,mBACE,MAAC,GAAD;AAAK,IAAA,GAAG,EAAC,EAAT;AAAY,IAAA,GAAG,EAAEjB,KAAK,CAACO,GAAN,CAAUW,KAA3B;AAAkC,IAAA,SAAS,EAAC;AAA5C,IADF,CAPF,CADF,EAYE,MAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,EAAlB;AAAqB,IAAA,EAAE,EAAC,GAAxB;AAA4B,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb;AAAnC,KACE;AAAG,IAAA,SAAS,EAAC;AAAb,KACE,sCADF,EAEGnB,KAAK,CAACO,GAAN,CAAUa,WAFb,CADF,EAKE;AAAG,IAAA,SAAS,EAAC;AAAb,KACE,+BADF,cAC6BpB,KAAK,CAACO,GAAN,CAAUc,KADvC,CALF,EAQGrB,KAAK,CAACsB,MAAN,KAAiBtB,KAAK,CAACO,GAAN,CAAUgB,KAA3B,IACC,mBACE,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAC;AAAd,KACE,MAAC,IAAD;AACE,IAAA,IAAI,qBAAcvB,KAAK,CAACO,GAAN,CAAUC,GAAxB,CADN;AAEE,IAAA,EAAE,kBAAWR,KAAK,CAACO,GAAN,CAAUC,GAArB;AAFJ,KAIE;AAAG,IAAA,SAAS,EAAC;AAAb,YAJF,CADF,CADF,EASE,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAEJ,OAAjB;AAA0B,IAAA,KAAK,EAAC;AAAhC,cATF,CATJ,CAZF,CADF;AAuCD,CAhED;;AAkEA,eAAeL,KAAf","sourcesContent":["import React from 'react';\nimport Link from 'next/link';\nimport axios from '../../axios-order';\nimport styled from 'styled-components';\nimport Router, { useRouter } from 'next/router';\nimport cookie from 'js-cookie';\nimport { MDBCol, MDBBtn, MDBRow } from 'mdbreact';\n\nexport interface IntProps {\n  userId: string | null;\n  obj: {\n    _id: string;\n    image: string;\n    name: string;\n    brand: string;\n    description: string;\n    price: number;\n    owner: string;\n  };\n}\n\nconst Table = (props: IntProps) => {\n  const router = useRouter();\n  const { id } = router.query;\n\n  const deleted = async () => {\n    const token = cookie.get('jwtToken');\n\n    try {\n      await axios.delete('/products/' + props.obj._id, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      Router.push(`/products`);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const Img = styled.img`\n    max-height: 270px;\n    min-width: 270px;\n    border-radius: 3%;\n  `;\n\n  return (\n    <MDBRow>\n      <MDBCol className=\"\" md=\"6\">\n        <h3>\n          <strong>{props.obj.name}</strong>\n        </h3>\n        <p>\n          <strong>Brand:</strong> {props.obj.brand}\n        </p>\n        <div>\n          <Img alt=\"\" src={props.obj.image} className=\"img-fluid w-75\" />\n        </div>\n      </MDBCol>\n      <MDBCol className=\"\" md=\"6\" style={{ marginTop: '150px' }}>\n        <p className=\"text-center\">\n          <strong>Description: </strong>\n          {props.obj.description}\n        </p>\n        <p className=\"pt-3\">\n          <strong>Price:</strong> â‚¦ {props.obj.price}\n        </p>\n        {props.userId === props.obj.owner && (\n          <div>\n            <MDBBtn color=\"success\">\n              <Link\n                href={`/edit?id=${props.obj._id}`}\n                as={`/edit/${props.obj._id}`}\n              >\n                <a className=\"text-reset\">Edit</a>\n              </Link>\n            </MDBBtn>\n            <MDBBtn onClick={deleted} color=\"danger\">\n              Delete\n            </MDBBtn>\n          </div>\n        )}\n      </MDBCol>\n    </MDBRow>\n  );\n};\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}