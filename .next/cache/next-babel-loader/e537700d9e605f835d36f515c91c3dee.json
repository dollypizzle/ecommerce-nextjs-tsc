{"ast":null,"code":"import axios from '../../axios-order';\nimport setAuthorizationToken from '../../utils/setAuthorizationToken';\nimport cookie from 'js-cookie';\nimport jwtDecode from 'jwt-decode';\nimport { SET_CURRENT_USER } from './actionTypes';\nexport function setCurrentUser(user) {\n  return {\n    type: SET_CURRENT_USER,\n    user\n  };\n}\nexport function login(data) {\n  return dispatch => {\n    return axios.post('/login', data).then(res => {\n      const token = res.data.token;\n      const user = res.data.user;\n      cookie.set('jwtToken', token);\n      cookie.set('user', user);\n      setAuthorizationToken(token);\n      dispatch(setCurrentUser(jwtDecode(token)));\n    });\n  };\n}","map":{"version":3,"sources":["/home/dolapo/codes/projects/ecommerce-nextjs-tsc/src/store/actions/authActions.ts"],"names":["axios","setAuthorizationToken","cookie","jwtDecode","SET_CURRENT_USER","setCurrentUser","user","type","login","data","dispatch","post","then","res","token","set"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,mBAAlB;AACA,OAAOC,qBAAP,MAAkC,mCAAlC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,gBAAT,QAAiC,eAAjC;AAEA,OAAO,SAASC,cAAT,CAAwBC,IAAxB,EAAkC;AACvC,SAAO;AACLC,IAAAA,IAAI,EAAEH,gBADD;AAELE,IAAAA;AAFK,GAAP;AAID;AAED,OAAO,SAASE,KAAT,CAAeC,IAAf,EAAyB;AAC9B,SAAQC,QAAD,IAA0D;AAC/D,WAAOV,KAAK,CAACW,IAAN,CAAW,QAAX,EAAqBF,IAArB,EAA2BG,IAA3B,CAAgCC,GAAG,IAAI;AAC5C,YAAMC,KAAK,GAAGD,GAAG,CAACJ,IAAJ,CAASK,KAAvB;AACA,YAAMR,IAAI,GAAGO,GAAG,CAACJ,IAAJ,CAASH,IAAtB;AACAJ,MAAAA,MAAM,CAACa,GAAP,CAAW,UAAX,EAAuBD,KAAvB;AACAZ,MAAAA,MAAM,CAACa,GAAP,CAAW,MAAX,EAAmBT,IAAnB;AACAL,MAAAA,qBAAqB,CAACa,KAAD,CAArB;AACAJ,MAAAA,QAAQ,CAACL,cAAc,CAACF,SAAS,CAACW,KAAD,CAAV,CAAf,CAAR;AACD,KAPM,CAAP;AAQD,GATD;AAUD","sourcesContent":["import axios from '../../axios-order';\nimport setAuthorizationToken from '../../utils/setAuthorizationToken';\nimport cookie from 'js-cookie';\nimport jwtDecode from 'jwt-decode';\n\nimport { SET_CURRENT_USER } from './actionTypes';\n\nexport function setCurrentUser(user: {}) {\n  return {\n    type: SET_CURRENT_USER,\n    user,\n  };\n}\n\nexport function login(data: {}) {\n  return (dispatch: (arg0: { type: string; user: {} }) => void) => {\n    return axios.post('/login', data).then(res => {\n      const token = res.data.token;\n      const user = res.data.user;\n      cookie.set('jwtToken', token);\n      cookie.set('user', user);\n      setAuthorizationToken(token);\n      dispatch(setCurrentUser(jwtDecode(token)));\n    });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}