{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport axios from '../../axios-order';\nimport Body from './Body';\nimport cookie from 'js-cookie';\nimport { MDBJumbotron, MDBBtn, MDBContainer, MDBRow, MDBCol, MDBIcon } from 'mdbreact';\nexport var Products = function Products() {\n  var _useState = useState([]),\n      product = _useState[0],\n      setProduct = _useState[1];\n\n  useEffect(function () {\n    var fecthData =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get('/products');\n\n              case 3:\n                response = _context.sent;\n                setProduct(response.data);\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n\n      return function fecthData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fecthData();\n  }, []);\n  var user = cookie.get('user');\n\n  var tabRow = function tabRow() {\n    return product && product.map(function (object, i) {\n      return __jsx(Body, {\n        obj: object,\n        key: i\n      });\n    });\n  };\n\n  var userLinks = __jsx(\"p\", {\n    className: \"lead\"\n  }, __jsx(MDBBtn, {\n    outline: true,\n    color: \"black\",\n    className: \"mb-5\"\n  }, __jsx(MDBIcon, {\n    icon: \"clone\",\n    className: \"mr-2\"\n  }), ' ', __jsx(Link, {\n    href: \"/add\"\n  }, __jsx(\"a\", {\n    style: {\n      color: 'black'\n    }\n  }, \"Add New Product\"))));\n\n  var guestLinks = __jsx(\"div\", null);\n\n  return __jsx(React.Fragment, null, __jsx(MDBContainer, {\n    className: \"mt-3 text-center\"\n  }, __jsx(MDBRow, null, __jsx(MDBCol, null, __jsx(MDBJumbotron, null, __jsx(\"h2\", {\n    className: \"h1 display-3\"\n  }, \"Dolmart Phone Hub\"), __jsx(\"hr\", {\n    className: \"my-2\"\n  }), user ? userLinks : guestLinks))), __jsx(MDBRow, null, tabRow())));\n};\nexport default Products;","map":{"version":3,"sources":["/home/dolapo/codes/projects/ecommerce-nextjs-tsc/src/components/Products/Products.tsx"],"names":["React","useState","useEffect","Link","axios","Body","cookie","MDBJumbotron","MDBBtn","MDBContainer","MDBRow","MDBCol","MDBIcon","Products","product","setProduct","fecthData","get","response","data","console","log","user","tabRow","map","object","i","userLinks","color","guestLinks"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SACEC,YADF,EAEEC,MAFF,EAGEC,YAHF,EAIEC,MAJF,EAKEC,MALF,EAMEC,OANF,QAOO,UAPP;AASA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,kBACEZ,QAAQ,CAAK,EAAL,CADV;AAAA,MACrBa,OADqB;AAAA,MACZC,UADY;;AAG5Bb,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMc,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAESZ,KAAK,CAACa,GAAN,CAAU,WAAV,CAFT;;AAAA;AAERC,gBAAAA,QAFQ;AAGdH,gBAAAA,UAAU,CAACG,QAAQ,CAACC,IAAV,CAAV;AAHc;AAAA;;AAAA;AAAA;AAAA;AAKdC,gBAAAA,OAAO,CAACC,GAAR;;AALc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAATL,SAAS;AAAA;AAAA;AAAA,OAAf;;AAQAA,IAAAA,SAAS;AACV,GAVQ,EAUN,EAVM,CAAT;AAYA,MAAMM,IAAI,GAAGhB,MAAM,CAACW,GAAP,CAAW,MAAX,CAAb;;AAEA,MAAMM,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,WACET,OAAO,IACPA,OAAO,CAACU,GAAR,CAAY,UAASC,MAAT,EAAiBC,CAAjB,EAAoB;AAC9B,aAAO,MAAC,IAAD;AAAM,QAAA,GAAG,EAAED,MAAX;AAAmB,QAAA,GAAG,EAAEC;AAAxB,QAAP;AACD,KAFD,CAFF;AAMD,GAPD;;AASA,MAAMC,SAAS,GACb;AAAG,IAAA,SAAS,EAAC;AAAb,KACE,MAAC,MAAD;AAAQ,IAAA,OAAO,MAAf;AAAgB,IAAA,KAAK,EAAC,OAAtB;AAA8B,IAAA,SAAS,EAAC;AAAxC,KACE,MAAC,OAAD;AAAS,IAAA,IAAI,EAAC,OAAd;AAAsB,IAAA,SAAS,EAAC;AAAhC,IADF,EACoD,GADpD,EAEE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAG,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAAV,uBADF,CAFF,CADF,CADF;;AAWA,MAAMC,UAAU,GAAG,kBAAnB;;AAEA,SACE,4BACE,MAAC,YAAD;AAAc,IAAA,SAAS,EAAC;AAAxB,KACE,MAAC,MAAD,QACE,MAAC,MAAD,QACE,MAAC,YAAD,QACE;AAAI,IAAA,SAAS,EAAC;AAAd,yBADF,EAEE;AAAI,IAAA,SAAS,EAAC;AAAd,IAFF,EAGGP,IAAI,GAAGK,SAAH,GAAeE,UAHtB,CADF,CADF,CADF,EAWE,MAAC,MAAD,QAASN,MAAM,EAAf,CAXF,CADF,CADF;AAiBD,CAxDM;AA0DP,eAAeV,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport axios from '../../axios-order';\nimport Body from './Body';\nimport cookie from 'js-cookie';\nimport {\n  MDBJumbotron,\n  MDBBtn,\n  MDBContainer,\n  MDBRow,\n  MDBCol,\n  MDBIcon,\n} from 'mdbreact';\n\nexport const Products = () => {\n  const [product, setProduct] = useState<[]>([]);\n\n  useEffect(() => {\n    const fecthData = async () => {\n      try {\n        const response = await axios.get('/products');\n        setProduct(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fecthData();\n  }, []);\n\n  const user = cookie.get('user');\n\n  const tabRow = () => {\n    return (\n      product &&\n      product.map(function(object, i) {\n        return <Body obj={object} key={i} />;\n      })\n    );\n  };\n\n  const userLinks = (\n    <p className=\"lead\">\n      <MDBBtn outline color=\"black\" className=\"mb-5\">\n        <MDBIcon icon=\"clone\" className=\"mr-2\"></MDBIcon>{' '}\n        <Link href=\"/add\">\n          <a style={{ color: 'black' }}>Add New Product</a>\n        </Link>\n      </MDBBtn>\n    </p>\n  );\n\n  const guestLinks = <div></div>;\n\n  return (\n    <>\n      <MDBContainer className=\"mt-3 text-center\">\n        <MDBRow>\n          <MDBCol>\n            <MDBJumbotron>\n              <h2 className=\"h1 display-3\">Dolmart Phone Hub</h2>\n              <hr className=\"my-2\" />\n              {user ? userLinks : guestLinks}\n            </MDBJumbotron>\n          </MDBCol>\n        </MDBRow>\n\n        <MDBRow>{tabRow()}</MDBRow>\n      </MDBContainer>\n    </>\n  );\n};\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}