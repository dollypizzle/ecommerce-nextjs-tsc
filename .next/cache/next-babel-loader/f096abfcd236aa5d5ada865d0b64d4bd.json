{"ast":null,"code":"import axios from '../../axios-order';\nimport setAuthorizationToken from '../../utils/setAuthorizationToken';\nimport jwtDecode from 'jwt-decode';\nimport cookie from 'js-cookie';\nimport { SET_CURRENT_USER } from './actionTypes';\nexport function setCurrentUser(user) {\n  return {\n    type: SET_CURRENT_USER,\n    user\n  };\n}\nexport function userSignupRequest(userData) {\n  return dispatch => {\n    return axios.post('/register', userData).then(res => {\n      const token = res.data.token;\n      const user = res.data.user;\n      cookie.set('jwtToken', token);\n      cookie.set('user', user);\n      setAuthorizationToken(token);\n      dispatch(setCurrentUser(jwtDecode(token)));\n    });\n  };\n}","map":{"version":3,"sources":["/home/dolapo/ecommerce-nextjs-t/src/store/actions/signupActions.ts"],"names":["axios","setAuthorizationToken","jwtDecode","cookie","SET_CURRENT_USER","setCurrentUser","user","type","userSignupRequest","userData","dispatch","post","then","res","token","data","set"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,mBAAlB;AACA,OAAOC,qBAAP,MAAkC,mCAAlC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,SAASC,gBAAT,QAAiC,eAAjC;AAEA,OAAO,SAASC,cAAT,CAAwBC,IAAxB,EAAmC;AACxC,SAAO;AACLC,IAAAA,IAAI,EAAEH,gBADD;AAELE,IAAAA;AAFK,GAAP;AAID;AAED,OAAO,SAASE,iBAAT,CAA2BC,QAA3B,EAA0C;AAC/C,SAAQC,QAAD,IAA2D;AAChE,WAAOV,KAAK,CAACW,IAAN,CAAW,WAAX,EAAwBF,QAAxB,EAAkCG,IAAlC,CAAuCC,GAAG,IAAI;AACnD,YAAMC,KAAK,GAAGD,GAAG,CAACE,IAAJ,CAASD,KAAvB;AACA,YAAMR,IAAI,GAAGO,GAAG,CAACE,IAAJ,CAAST,IAAtB;AACAH,MAAAA,MAAM,CAACa,GAAP,CAAW,UAAX,EAAuBF,KAAvB;AACAX,MAAAA,MAAM,CAACa,GAAP,CAAW,MAAX,EAAmBV,IAAnB;AACAL,MAAAA,qBAAqB,CAACa,KAAD,CAArB;AACAJ,MAAAA,QAAQ,CAACL,cAAc,CAACH,SAAS,CAACY,KAAD,CAAV,CAAf,CAAR;AACD,KAPM,CAAP;AAQD,GATD;AAUD","sourcesContent":["import axios from '../../axios-order';\nimport setAuthorizationToken from '../../utils/setAuthorizationToken';\nimport jwtDecode from 'jwt-decode';\nimport cookie from 'js-cookie';\n\nimport { SET_CURRENT_USER } from './actionTypes';\n\nexport function setCurrentUser(user: any) {\n  return {\n    type: SET_CURRENT_USER,\n    user,\n  };\n}\n\nexport function userSignupRequest(userData: any) {\n  return (dispatch: (arg0: { type: string; user: any }) => void) => {\n    return axios.post('/register', userData).then(res => {\n      const token = res.data.token;\n      const user = res.data.user;\n      cookie.set('jwtToken', token);\n      cookie.set('user', user);\n      setAuthorizationToken(token);\n      dispatch(setCurrentUser(jwtDecode(token)));\n    });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}